import os
from PIL import Image
from io import BytesIO
import base64
import ddddocr

def custom_escape_to_bytes(s):
    result = []
    i = 0
    while i < len(s):
        if s[i] == "/" and i + 1 < len(s) and s[i+1].isdigit():
            # 提取数字并转换为字节
            value = int(s[i+1])
            result.append(value)
            i += 2
        else:
            # 普通字符转为 ASCII 字节
            result.append(ord(s[i]))
            i += 1
    return bytes(result)

base64_str = "data:image/jpeg;base64,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"
base64_str = base64_str[len("data:image/jpeg;base64,"):]
img_data = base64.b64decode(base64_str)
# print(img_data)
captcha_img = Image.open(BytesIO(img_data))
captcha_img.save(os.path.join(os.path.dirname(os.path.realpath(__file__)), "captcha.jpeg"))

ocr = ddddocr.DdddOcr()

result = ocr.classification(captcha_img)
print(result)